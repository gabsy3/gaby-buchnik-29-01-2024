import{Cb as C,Eb as F,Fb as y,Ja as a,Oa as f,Sb as M,Tb as S,ab as l,bb as h,bc as T,cb as u,db as o,ea as m,eb as n,fb as v,ga as p,nb as w,oc as _,vb as c,wb as g,yb as x,za as d}from"./chunk-WUY7UY32.js";function O(i,e){if(i&1&&(o(0,"div",1)(1,"div",2),c(2),n(),v(3,"img",3),o(4,"div",4),c(5),F(6,"date"),n()()),i&2){let s=e.$implicit;a(2),x("",s.minTemp,"\xB0 - ",s.maxTemp,"\xB0"),a(),w("src",s.img,d),a(2),g(y(6,4,s.date))}}function P(i,e){i&1&&(o(0,"div"),c(1,"forcast empty"),n())}var V=(()=>{let e=class e{constructor(){this.weatherService=m(T),this.toastr=m(_),this.state=this.weatherService.wsState,this.forecaseArr=[],f(()=>{this.loadForecast()})}ngOnInit(){this.loadForecast()}loadForecast(){this.weatherService.getForecast(this.state.id()).subscribe({next:r=>{this.forecaseArr=[];for(let t of r.DailyForecasts)this.forecaseArr.push({minTemp:t.Temperature.Minimum.Value,maxTemp:t.Temperature.Maximum.Value,date:t.Date,img:`https://www.accuweather.com/images/weathericons/${t.Day.Icon}.svg`});this.weatherService.setForecast(this.forecaseArr)},error:r=>{this.toastr.error(r.message,"getForecast")}})}};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p({type:e,selectors:[["app-forecast"]],standalone:!0,features:[C],decls:4,vars:1,consts:[[1,"d-flex","flex-md-row","flex-column","justify-content-between","forecast-wrapper"],[1,"m-1","forecast-item"],[1,"Temp"],[1,"icon",3,"src"],[1,"date"],["class","m-1 forecast-item"]],template:function(t,b){t&1&&(o(0,"div",0),h(1,O,7,6,"div",5,l,!1,P,2,0,"div"),n()),t&2&&(a(),u(b.state.forecast()))},dependencies:[S,M],styles:[".forecast-wrapper[_ngcontent-%COMP%]{color:#fff;bottom:0;width:-webkit-fill-available}@media screen and (min-width: 768px){.forecast-wrapper[_ngcontent-%COMP%]{position:absolute}}.forecast-wrapper[_ngcontent-%COMP%]   .forecast-item[_ngcontent-%COMP%]{padding:30px;border-right:1px solid #666;background:#000000d1;width:100%}.forecast-wrapper[_ngcontent-%COMP%]   .forecast-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:100px}"]});let i=e;return i})();export{V as ForecastComponent};
