<div class="weather-wrapper text-center mx-auto">
    <div class="d-flex flex-column justify-content-between dash">

        <form class="example-form">
            <input type="text" placeholder="city" [matAutocomplete]="auto" class="search"
                (keyup)="onKeyUp($event)" [(ngModel)]="inputCity" name="inputCity" (keypress)="omit_special_char($event)"/>
            <mat-autocomplete #auto="matAutocomplete" (optionSelected)="getCurrentConditions()">
                @for (city of locations; track city) {
                <mat-option [value]="city">{{city}}</mat-option>
                }
            </mat-autocomplete>
        </form>

        @if(state.city()){
            <div class="d-flex justify-content-between align-items-center mt-4">
                <span class="city">{{state.city()}}</span>
                <button mat-icon-button aria-label="favorite" (click)="favoriteClick()" class="favorite" [ngClass]="{'warn':state.favorite()}">
                    <mat-icon>favorite</mat-icon>
                </button>
            </div>
            

            <div class="d-flex flex-column align-items-center">
                <img alt="city-weather" src={{state.img()}} class="img">
                <span class="degrees my-3">{{state.temp()}}°</span>
                <span class="WeatherText">{{state.weatherText()}}</span>
            </div>
        }@else {
        <div>City not found</div>
        }
    </div>

    <div class="d-flex flex-row justify-content-between forecast-wrapper">
        @for(item of state.forecast(); track item){
        <div class="m-1 forecast-item">
            <div class="Temp">{{item.minTemp}}° - {{item.maxTemp}}°</div>
            <img class="icon" src={{item.img}}>
            <div class="date">{{item.date | date}}</div>
        </div>
        }
        @empty {
        <div>forcast empty</div>
        }
    </div>

</div>